<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QTools: Revision History</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="ql-preview.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    QTools
    &nbsp;<span id="projectnumber">7.2.1</span>
   </div>
   <div id="projectbrief">Collection of Host-Based Tools</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('history.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Revision History </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="qtools_7_2_1"></a>
Version 7.2.1, 2023-01-11</h1>
<p>Introduced the <a class="el" href="qutest_use.html#qutest_inter">QUTest interactive mode</a>.</p>
<h1><a class="anchor" id="qtools_7_2_0"></a>
Version 7.2.0, 2022-12-22</h1>
<p><a class="el" href="qutest.html">QUTest testing framework</a>:<br  />
 This release represents a significant overhaul of the <a class="el" href="qutest_use.html">qutest.py test runner</a>.</p>
<ul>
<li>re-designed the <a class="el" href="qutest_use.html#qutest_command">qutest.py command-line interface</a> (with the <a href="https://docs.python.org/3/library/argparse.html">Python argparse library</a>) and added several new options.</li>
</ul>
<dl class="section attention"><dt>Attention</dt><dd>The <code>qutest.py</code> script runner <a class="el" href="qutest_use.html#qutest_command">qutest.py command-line options</a> have been expanded and changed. Unfortunately, it was not possible to preserve the backwards compatibility with the earlier versions. <b>This means that various Makefiles for building and running tests need to be updated.</b></dd></dl>
<ul>
<li>added generation of <a class="el" href="qutest_use.html#qutest_log">test logs</a> (feature required for safety certification efforts)</li>
<li>added generation of <a class="el" href="qutest_use.html#qutest_qspy_log">QSPY logs) (might be also helpful in documenting tests for safety certification.)</a></li>
<li>changed the format of the output generated by <code>qutest.py</code> to better match the more verbose output generated by test scripts. (The minimal one-line-per test output could not be reconciled with various notes now generated by test scripts.)</li>
<li>changed the policy of handling <b>assertion failures</b> inside test fixtures (to match changes in QP/C/C++ 7.2.0). Specifically, now an assertion failure causes an automatic reset of the target, without waiting on the test script to trigger the reset. This minimizes the expectations placed on the compromised target system, which might be unable to receive any external commands.</li>
<li>added generation of "notes" from tests in the QSPY output to improve its readability and enable easier correlation of the QSPY output to the test scripts.</li>
<li>added new <a class="el" href="namespacequtest__dsl.html#a15e9d6998595d8731025f1c2b0fed2a0">note()</a> command for generating notes from test scripts (These notes appear in the QUTest output and in the QSPY output. Also they are added to the test log files, if logging is enabled.)</li>
<li>added new <a class="el" href="namespacequtest__dsl.html#a4852280e4543f7f854ae267c6bf5bd0a">scenario()</a> command (alias for <a class="el" href="namespacequtest__dsl.html#ac0d4e644cd63337f7214b45a483e9c3d">test()</a>) to support the BDD (Behavior-Driven Development) style of writing "scenarios".</li>
<li>added new <a class="el" href="namespacequtest__dsl.html#a6186d33a99e21ebc285284efb58c3391">tag()</a> command (alias for <a class="el" href="namespacequtest__dsl.html#a15e9d6998595d8731025f1c2b0fed2a0">note()</a>) to support the BDD (Behavior-Driven Development) style of writing "scenarios".</li>
</ul>
<p><a class="el" href="qspy.html">QSPY host application</a>:</p><ul>
<li>added "Enum Dictionaries" and parsing of the Enum data item</li>
<li>changed dictionaries for QUTest <a class="el" href="namespacequtest__dsl.html#a3464c8f9e716e6f77ff035152e22b0d2">command()</a> from "User" dictionaries to "Enum Dictionaries" for enum-group 7 (#QS_CMD_ENUM). This change affects only QP 7.1.4 and newer. For backwards compatibility, older versions of QP still use the "User" dictionaries for commands.</li>
<li>implemented <a href="https://sourceforge.net/p/qpc/feature-requests/197">feature request #197</a> for displaying of "notes" from QUTest or QView in the QSPY output. This includes rendering special test notes now produced by QUTest 7.2.0.</li>
<li>implemented <a href="https://sourceforge.net/p/qpc/feature-requests/199">feature request #199</a> for truncating state annotations in sequence diagrams.</li>
</ul>
<p><a class="el" href="qview.html">QView visualization and monitoring</a>:</p><ul>
<li>added generation of "notes" in the QSPY output from the Commands menu.</li>
<li>updated the QView interface to QSPY to toggle various output formats (text, binary, Matlab, sequence)</li>
</ul>
<p><b>Documentation</b> -Updated the QTools documentation.</p>
<h1><a class="anchor" id="qtools_7_1_3"></a>
Version 7.1.3, 2022-11-18</h1>
<p><a class="el" href="qspy.html">QSPY host application</a>:</p><ul>
<li>Implemented feature request <a href="https://sourceforge.net/p/qpc/feature-requests/199">#199 "Extend state name character length in qspy sequence diagrams."</a>.</li>
</ul>
<p><a class="el" href="qclean.html">QCLEAN host application</a>:</p><ul>
<li>Added new file types and changing some cleaning rules for white-space cleaning.</li>
</ul>
<p><b>Documentation</b></p><ul>
<li>Modified the <code>doxygen/</code> folder for generation of QM Manual in LaTeX (enables generation of PDF)</li>
</ul>
<h1><a class="anchor" id="qtools_7_1_2"></a>
Version 7.1.2, 2022-09-28</h1>
<p><b>QSPY host application:</b></p><ul>
<li>Added pre-defined "Scheduler" records:<ul>
<li><code>QS_SCHED_PREEMPT</code> replaces deprecated <code>QS_MUTEX_LOCK</code></li>
<li><code>QS_SCHED_RESTORE</code> replaces deprecated <code>QS_MUTEX_UNLOCK</code></li>
</ul>
</li>
<li>Increased the default version for backwards compatibility from 6.6 to 7.0 (<a class="el" href="qspy.html#qspy_command">command-line option -v</a>, now defaults to 7.0)</li>
<li>Increased the default for QTimeEvt counter size from 2 to 4 (<a class="el" href="qspy.html#qspy_command">command-line option -C</a>, now defaults to 4). This corresponds to the change of the default value of <code>QF_TIMEEVT_CTR_SIZE</code> to 4 in QP/C and QP/C.</li>
</ul>
<h1><a class="anchor" id="qtools_7_1_1"></a>
Version 7.1.1, 2022-09-03</h1>
<p>Slightly restructured QSPY source code to better integrate directly with QP applications. Specifically, moved <a class="el" href="qspy_8h.html#a81ac36b4ce3c1a614fe5b1e9dc142b10">QSPY_cleanup()</a> to qspy.c, so it is available to the applications.</p>
<h1><a class="anchor" id="qtools_7_1_0"></a>
Version 7.1.0, 2022-08-22</h1>
<p><b>Changes in QSpy</b></p><ul>
<li>QSpy 7.1.0 has been updated for QP version 7.1.0. Specifically new predefined QS trace records have been added: <div class="fragment"><div class="line"><span class="comment">/* [71] Semaphore (SEM) records */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a6503e2a04f4aad72191c5592a3453c6c">QS_SEM_TAKE</a>,          <span class="comment">/*!&lt; a semaphore was taken by a thread */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a17644ab94ba0734760852972bac842bb">QS_SEM_BLOCK</a>,         <span class="comment">/*!&lt; a semaphore blocked a thread */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a70fe2a940e925aa5a673f57004354d0a">QS_SEM_SIGNAL</a>,        <span class="comment">/*!&lt; a semaphore was signaled*/</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a3ed4907f760bdcc1b92e213cf317093d">QS_SEM_BLOCK_ATTEMPT</a>, <span class="comment">/*!&lt; a semaphore blocked was attempted */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* [75] Mutex (MTX) records */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#aedb9097de207f188c519f8221e4d9d4e">QS_MTX_LOCK</a>,          <span class="comment">/*!&lt; a mutex was locked */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a3ac7b5019352cc6f40536912b5722196">QS_MTX_BLOCK</a>,         <span class="comment">/*!&lt; a mutex blocked a thread */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a32963a2bf3ecca5312ead451d84edfad">QS_MTX_UNLOCK</a>,        <span class="comment">/*!&lt; a mutex was unlocked */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a4a0bd3ed4ef8fd279f2d18640923ca14">QS_MTX_LOCK_ATTEMPT</a>,  <span class="comment">/*!&lt; a mutex lock was attempted */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#afdff09dd01bdd80fe2a625127b1a4518">QS_MTX_BLOCK_ATTEMPT</a>, <span class="comment">/*!&lt; a mutex blocking was attempted */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a62253b0614b82d3233fc1da48237f408">QS_MTX_UNLOCK_ATTEMPT</a>,<span class="comment">/*!&lt; a mutex unlock was attempted */</span></div>
<div class="ttc" id="aqpc__qs_8h_html_a17644ab94ba0734760852972bac842bb"><div class="ttname"><a href="qpc__qs_8h.html#a17644ab94ba0734760852972bac842bb">QS_SEM_BLOCK</a></div><div class="ttdeci">@ QS_SEM_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00262">qpc_qs.h:262</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a32963a2bf3ecca5312ead451d84edfad"><div class="ttname"><a href="qpc__qs_8h.html#a32963a2bf3ecca5312ead451d84edfad">QS_MTX_UNLOCK</a></div><div class="ttdeci">@ QS_MTX_UNLOCK</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00269">qpc_qs.h:269</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a3ac7b5019352cc6f40536912b5722196"><div class="ttname"><a href="qpc__qs_8h.html#a3ac7b5019352cc6f40536912b5722196">QS_MTX_BLOCK</a></div><div class="ttdeci">@ QS_MTX_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00268">qpc_qs.h:268</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a3ed4907f760bdcc1b92e213cf317093d"><div class="ttname"><a href="qpc__qs_8h.html#a3ed4907f760bdcc1b92e213cf317093d">QS_SEM_BLOCK_ATTEMPT</a></div><div class="ttdeci">@ QS_SEM_BLOCK_ATTEMPT</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00264">qpc_qs.h:264</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a4a0bd3ed4ef8fd279f2d18640923ca14"><div class="ttname"><a href="qpc__qs_8h.html#a4a0bd3ed4ef8fd279f2d18640923ca14">QS_MTX_LOCK_ATTEMPT</a></div><div class="ttdeci">@ QS_MTX_LOCK_ATTEMPT</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00270">qpc_qs.h:270</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a62253b0614b82d3233fc1da48237f408"><div class="ttname"><a href="qpc__qs_8h.html#a62253b0614b82d3233fc1da48237f408">QS_MTX_UNLOCK_ATTEMPT</a></div><div class="ttdeci">@ QS_MTX_UNLOCK_ATTEMPT</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00272">qpc_qs.h:272</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a6503e2a04f4aad72191c5592a3453c6c"><div class="ttname"><a href="qpc__qs_8h.html#a6503e2a04f4aad72191c5592a3453c6c">QS_SEM_TAKE</a></div><div class="ttdeci">@ QS_SEM_TAKE</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00261">qpc_qs.h:261</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a70fe2a940e925aa5a673f57004354d0a"><div class="ttname"><a href="qpc__qs_8h.html#a70fe2a940e925aa5a673f57004354d0a">QS_SEM_SIGNAL</a></div><div class="ttdeci">@ QS_SEM_SIGNAL</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00263">qpc_qs.h:263</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_aedb9097de207f188c519f8221e4d9d4e"><div class="ttname"><a href="qpc__qs_8h.html#aedb9097de207f188c519f8221e4d9d4e">QS_MTX_LOCK</a></div><div class="ttdeci">@ QS_MTX_LOCK</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00267">qpc_qs.h:267</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_afdff09dd01bdd80fe2a625127b1a4518"><div class="ttname"><a href="qpc__qs_8h.html#afdff09dd01bdd80fe2a625127b1a4518">QS_MTX_BLOCK_ATTEMPT</a></div><div class="ttdeci">@ QS_MTX_BLOCK_ATTEMPT</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00271">qpc_qs.h:271</a></div></div>
</div><!-- fragment --> the following QS trace records are now deprecated: <div class="fragment"><div class="line"><span class="comment">/* [48] old Mutex records, deprecated in QP 7.1.0 */</span></div>
<div class="line">QS_MUTEX_LOCK,        <span class="comment">/*!&lt; @deprecated */</span></div>
<div class="line">QS_MUTEX_UNLOCK,      <span class="comment">/*!&lt; @deprecated */</span></div>
</div><!-- fragment --> Also, the following new groups for QS global filter have been added: <div class="fragment"><div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a9a078ab9f28bc465c7ef614364ab13f9">QS_SEM_RECORDS</a>,   <span class="comment">/*!&lt; Semaphore QS records */</span></div>
<div class="line"><a class="code hl_enumvalue" href="qpc__qs_8h.html#a7d240cf6186e0035e63033c5e591141d">QS_MTX_RECORDS</a>,   <span class="comment">/*!&lt; Mutex QS records */</span></div>
<div class="ttc" id="aqpc__qs_8h_html_a7d240cf6186e0035e63033c5e591141d"><div class="ttname"><a href="qpc__qs_8h.html#a7d240cf6186e0035e63033c5e591141d">QS_MTX_RECORDS</a></div><div class="ttdeci">@ QS_MTX_RECORDS</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00292">qpc_qs.h:292</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a9a078ab9f28bc465c7ef614364ab13f9"><div class="ttname"><a href="qpc__qs_8h.html#a9a078ab9f28bc465c7ef614364ab13f9">QS_SEM_RECORDS</a></div><div class="ttdeci">@ QS_SEM_RECORDS</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l00291">qpc_qs.h:291</a></div></div>
</div><!-- fragment --></li>
</ul>
<p><b>Changes in QUTest</b></p><ul>
<li><code>qutest.py</code> has been updated to include new QS trace records and global filters for them. The following QS record groups have been added to the "QUTest DSL": <div class="fragment"><div class="line"><a class="code hl_enumvalue" href="qspy_8h.html#a8dcf945571b727be2ac784fb2556bcdaaafaab6d1832bead892fee58d4b28c8c2">GRP_SEM</a> - Semaphore QS records</div>
<div class="line"><a class="code hl_enumvalue" href="qspy_8h.html#a8dcf945571b727be2ac784fb2556bcdaa960a62322d0a046f5d0fed65fe6de92b">GRP_MTX</a> - Mutex QS records</div>
<div class="ttc" id="aqspy_8h_html_a8dcf945571b727be2ac784fb2556bcdaa960a62322d0a046f5d0fed65fe6de92b"><div class="ttname"><a href="qspy_8h.html#a8dcf945571b727be2ac784fb2556bcdaa960a62322d0a046f5d0fed65fe6de92b">GRP_MTX</a></div><div class="ttdeci">@ GRP_MTX</div><div class="ttdef"><b>Definition:</b> <a href="qspy_8h_source.html#l00187">qspy.h:187</a></div></div>
<div class="ttc" id="aqspy_8h_html_a8dcf945571b727be2ac784fb2556bcdaaafaab6d1832bead892fee58d4b28c8c2"><div class="ttname"><a href="qspy_8h.html#a8dcf945571b727be2ac784fb2556bcdaaafaab6d1832bead892fee58d4b28c8c2">GRP_SEM</a></div><div class="ttdeci">@ GRP_SEM</div><div class="ttdef"><b>Definition:</b> <a href="qspy_8h_source.html#l00186">qspy.h:186</a></div></div>
</div><!-- fragment --></li>
</ul>
<p><b>Changes in QUView</b></p><ul>
<li><code><a class="el" href="qview_8py.html" title="QView Monitoring for QP/Spy.">qview.py</a></code> has been updated to include new QS trace records and global filters for them. The following QS record groups have been added to QView: <div class="fragment"><div class="line"><a class="code hl_enumvalue" href="qspy_8h.html#a8dcf945571b727be2ac784fb2556bcdaaafaab6d1832bead892fee58d4b28c8c2">GRP_SEM</a> - Semaphore QS records</div>
<div class="line"><a class="code hl_enumvalue" href="qspy_8h.html#a8dcf945571b727be2ac784fb2556bcdaa960a62322d0a046f5d0fed65fe6de92b">GRP_MTX</a> - Mutex QS records</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="qtools_7_0_0"></a>
Version 7.0.0, 2022-01-31</h1>
<p><b>Changes in QSpy</b></p><ul>
<li>The QSpy 7.0.0 implementation has been re-factored to modularize it in order to better support building host-based applications for executing embedded code on the host. Specifically, the new QSpy design better separates the "QSpy parser" of the QS records from the rendering engine and from other functionality of the QSpy host application.</li>
<li>Also, this release introduces semantic coloring of the <a class="el" href="qspy.html">QSPY output</a>, which improves its readability. This feature is now controlled by the added <a class="el" href="qspy.html#qspy_command">command-line option</a> <code>-r&lt;c0|c1|c2&gt;</code>.</li>
</ul>
<p><b>Changes in QUTest</b></p><ul>
<li>added command last_rec() to access the last received QS trace record.</li>
<li>improved semantic coloring of the output.</li>
</ul>
<p><b>Changes in QCalc</b></p><ul>
<li>added "batch mode" in which an expression can be provided on the command-line to <code>qcalc.py</code>.</li>
<li>added semantic coloring of the output.</li>
</ul>
<p><b>Updated GNU-ARM Toolchain for Windows</b></p><ul>
<li>The GNU-ARM toolchain included in QTools for Windows has been updated to the latest Version 10.3-2021.10 released on October 21, 2021.</li>
</ul>
<p><b>Updated Python for Windows</b></p><ul>
<li>The Python interpreter included in QTools for Windows has been updated to Python 3.10.1 (32-bit).</li>
</ul>
<h1><a class="anchor" id="qtools_6_9_3"></a>
Version 6.9.3, 2021-04-09</h1>
<p><b>Changes in QSpy</b></p><ul>
<li>Moved function <code><a class="el" href="qspy_8h.html#a86da27bcbbf022ba8f08d6bb5bdd9b8e">QSPY_printInfo()</a></code> to <code>qspy.c</code>, to enable direct QSPY output to the console. Please see also discussion thread [QSPY to console in win32-qv and posix-qv ports] <a href="https://sourceforge.net/p/qpc/discussion/668726/thread/92e56e9480">https://sourceforge.net/p/qpc/discussion/668726/thread/92e56e9480</a>),</li>
</ul>
<p><b>Changes in QUTest</b></p><ul>
<li>Corrected the <a class="el" href="qutest_use.html#qutest_command">DEBUG mode</a>, where the Enter key now correctly skips a test.</li>
<li>Added new command include() and provided examples of its use.</li>
<li>Improved error reporting from test scripts. Specifically, the content of the Python stack has been expanded to encompass all the relevant calls.</li>
</ul>
<p><b>Changes in QView</b></p><ul>
<li>Modified the Python implementation to run correctly after <a href="https://pypi.org/project/qview/">installing with pip</a>.</li>
</ul>
<p><b>Changes in QWin</b></p><ul>
<li>Modified the example code to correctly handle regular buttons alongside the "owner-drawn" buttons.</li>
</ul>
<p><b>Changes in QCalc</b></p><ul>
<li>Modified the Python implementation to run correctly after <a href="https://pypi.org/project/qcalc/">installing with pip</a>.</li>
</ul>
<p><b>Updated Python for Windows</b></p><ul>
<li>The Python interpreter in QTools for Windows has been updated to Python 3.9.4.</li>
</ul>
<h1><a class="anchor" id="qtools_6_9_2"></a>
Version 6.9.2, 2021-01-18</h1>
<p><b>Changes in QUTest and QView</b></p>
<p>The UDP socket binding (for connection to QSPY host application) has been changed from "localhost" to "0.0.0.0". This is to improve access to QSPY running on remote hosts. This fixes the following bug:</p>
<ul>
<li><a href="https://sourceforge.net/p/qpc/bugs/283/">bug#283 QUTest 6.9.1. broken</a>.</li>
</ul>
<p><b>Changes in QView</b></p>
<p>Changed the "Local Filter" dialog box to show "QS_id=..." instead of "AO-prio=..." for QS-IDs above 64.</p>
<p><b>Added QCalc</b></p>
<p>A new version of the popular QCalc Programmer's Calculator has been added again. This version is based on Python (whereas the previous was based on Tcl/Tk). The new version is console based and, among other enhancements, adds support for 64-bit range.</p>
<p><b>Updated GNU-ARM Toolchain for Windows</b></p>
<p>The GNU-ARM toolchain in QTools for Windows has been updated to the latest Version 10-2020-q4-major, released on December 11, 2020.</p>
<p><b>Updated Python for Windows</b></p>
<p>The Python interpreter in QTools for Windows has been updated to Python 3.9.</p>
<h1><a class="anchor" id="qtools_6_9_1"></a>
Version 6.9.1, 2020-09-28</h1>
<p>The main purpose of this release is to adjust <a class="el" href="qutest.html">QUTest&trade; Unit Testing Harness</a> and <a class="el" href="qview.html">QView&trade; Visualization &amp; Monitoring</a> to the new <a class="el" href="qs.html#qs_local">QS Local Filter</a> design implemented in <a href="https://www.state-machine.com/qpc">QP/C</a> and <a href="https://www.state-machine.com/qpcpp">QP/C++</a> 6.9.1. Specifically, the loc_filter() and ao_filter() functions in <a class="el" href="qutest_script.html">QUTest scripts</a> and in <a class="el" href="qview_cust.html#qview_script">QView scripts</a> has been re-designed. Additionally, the <a class="el" href="qview_ui.html#qview_loc">QView Local Filter menu</a> have been adjusted accordingly.</p>
<dl class="section note"><dt>Note</dt><dd>The change in the loc_filter() command has implications for existing <a class="el" href="qutest_script.html">QUTest scripts</a>. Specifically, the parameters of loc_filter() are no longer object names but rather "QS-IDs" (see the documentation to loc_filter()).</dd></dl>
<p><b>Changes in QSPY</b></p>
<p>The <a class="el" href="qspy.html">QSPY host application</a> has been updated to handle the redesigned local-filters and the new predefined <a class="el" href="qpc__qs_8h.html#a98bf159085064a8c12e9a64b225fa45b">QS_QF_NEW_ATTEMPT</a> trace record. Also the default version compatibility with the <a class="el" href="qs.html">QS target-resident component</a> (the <code>-v</code> <a class="el" href="qspy.html#qspy_command">command-line option</a>) has been increased from 6.2 to 6.6.</p>
<p>Additionally, the <a class="el" href="qpc__qs_8h.html#aa1ebd3ac35e153ead74106931bc58c08">QS_U64()</a> and <a class="el" href="qpc__qs_8h.html#a57ab513c128f8b7cde40505986d5a818">QS_I64()</a> data elements have been made available for all types of CPUs, whereas previously they were available only on 64-bit CPUs (see also <a href="https://sourceforge.net/p/qpc/feature-requests/181">feature#181</a>).</p>
<p>Additionally, QSPY now can format <a class="el" href="qs.html#qs_app">application-specific data elements</a> in hexadecimal. Here are a few examples of QS trace records in the Target and the generated QSPY output:</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="qpc__qs_8h.html#a129128a3bb20d0b9286ff7c68f1401ab">QS_U8</a>(<a class="code hl_define" href="qpc__qs_8h.html#a623ce3e20c90c9ce47acb3a2a947eebb">QS_HEX_FMT</a>,  0xABU);  <span class="comment">// --&gt; 0xAB</span></div>
<div class="line"><a class="code hl_define" href="qpc__qs_8h.html#a3b053b820c90aac6aa7e10adb76a18a5">QS_U16</a>(<a class="code hl_define" href="qpc__qs_8h.html#a623ce3e20c90c9ce47acb3a2a947eebb">QS_HEX_FMT</a>, 0xDEADU);  <span class="comment">// --&gt; 0xDEAD</span></div>
<div class="line"><a class="code hl_define" href="qpc__qs_8h.html#a17e249417c7e49c8e2913b17696acbc0">QS_U32</a>(<a class="code hl_define" href="qpc__qs_8h.html#a623ce3e20c90c9ce47acb3a2a947eebb">QS_HEX_FMT</a>, 0xDEADBEEFU); <span class="comment">// --&gt; 0xDEADBEEF</span></div>
<div class="line"><a class="code hl_define" href="qpc__qs_8h.html#aa1ebd3ac35e153ead74106931bc58c08">QS_U64</a>(<a class="code hl_define" href="qpc__qs_8h.html#a623ce3e20c90c9ce47acb3a2a947eebb">QS_HEX_FMT</a>, 0xDEADBEEF12345678LL); <span class="comment">// --&gt; 0xDEADBEEF12345678</span></div>
<div class="ttc" id="aqpc__qs_8h_html_a129128a3bb20d0b9286ff7c68f1401ab"><div class="ttname"><a href="qpc__qs_8h.html#a129128a3bb20d0b9286ff7c68f1401ab">QS_U8</a></div><div class="ttdeci">#define QS_U8(width_, data_)</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l01141">qpc_qs.h:1141</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a17e249417c7e49c8e2913b17696acbc0"><div class="ttname"><a href="qpc__qs_8h.html#a17e249417c7e49c8e2913b17696acbc0">QS_U32</a></div><div class="ttdeci">#define QS_U32(width_, data_)</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l01161">qpc_qs.h:1161</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a3b053b820c90aac6aa7e10adb76a18a5"><div class="ttname"><a href="qpc__qs_8h.html#a3b053b820c90aac6aa7e10adb76a18a5">QS_U16</a></div><div class="ttdeci">#define QS_U16(width_, data_)</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l01151">qpc_qs.h:1151</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_a623ce3e20c90c9ce47acb3a2a947eebb"><div class="ttname"><a href="qpc__qs_8h.html#a623ce3e20c90c9ce47acb3a2a947eebb">QS_HEX_FMT</a></div><div class="ttdeci">#define QS_HEX_FMT</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l01430">qpc_qs.h:1430</a></div></div>
<div class="ttc" id="aqpc__qs_8h_html_aa1ebd3ac35e153ead74106931bc58c08"><div class="ttname"><a href="qpc__qs_8h.html#aa1ebd3ac35e153ead74106931bc58c08">QS_U64</a></div><div class="ttdeci">#define QS_U64(width_, data_)</div><div class="ttdef"><b>Definition:</b> <a href="qpc__qs_8h_source.html#l01171">qpc_qs.h:1171</a></div></div>
</div><!-- fragment --><p><b>Implemented Feature Requests</b></p>
<ul>
<li><a href="https://sourceforge.net/p/qpc/feature-requests/181">feature#181 "use of QS_U64() on 32 bit machine"</a>.</li>
</ul>
<h1><a class="anchor" id="qtools_6_9_0"></a>
Version 6.9.0, 2020-08-21</h1>
<p>This release brings the new <a class="el" href="qview.html">QView&trade; Visualization &amp; Monitoring</a> component, which replaces QSpyView written originally in Tcl/Tk. The new <a class="el" href="qview.html">QView</a> is written in <b>Python</b> (3.3.+) and brings much commonality with the <a class="el" href="qutest.html">QUTest&trade; Unit Testing Harness</a>, which has also been re-structured and improved.</p>
<dl class="section note"><dt>Note</dt><dd>Starting with this version, both <a class="el" href="qview.html">QView&trade; Visualization &amp; Monitoring</a> and <a class="el" href="qutest.html">QUTest&trade; Unit Testing Harness</a> require <b>Python3</b> (3.3+) and are <b>no longer compatible</b> with Python2. The support for Tcl/Tk has been dropped entirely in QTools.</dd></dl>
<p><b>Changes in Directory Structure</b></p>
<p>The new <a class="el" href="qview.html">QView</a> and the updated <a class="el" href="qutest.html">QUTest</a> components are now located directly under the <code>qtools</code> folder and are no longer in the <code>qtools\qspy</code> folder. Here is the new <code>qtools</code> directory structure:</p>
<div class="fragment"><div class="line">qtools/</div>
<div class="line">+---bin/</div>
<div class="line">+---gnu_arm-none-eabi/</div>
<div class="line">+---matlab/</div>
<div class="line">+---mingw32/</div>
<div class="line">+---Python38/</div>
<div class="line">+---qclean/</div>
<div class="line">+---qspy/</div>
<div class="line">+---qutest/   <span class="comment"># &lt;== new qutest location</span></div>
<div class="line">+---qview/    <span class="comment"># &lt;== new qview location</span></div>
<div class="line">+---qwin/</div>
<div class="line">+---Unity/</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The changes in the QTools directory structure have impact on QUTest testing, because the Makefiles (or any other build tools you might be using) need to be adjusted to the new location of the <code>qutest.py</code> script.</dd></dl>
<p><b>Changes in QSPY:</b></p>
<ul>
<li>The <a class="el" href="qspy.html">QSPY host utility</a> has been extended with <a class="el" href="qspy_seq.html">Sequence Diagram Output</a>. This new feature replaces the previous support for MscGen and is no longer reliant on any such external tools.</li>
<li>QSPY now recognizes the new QS trace record <a class="el" href="qpc__qs_8h.html#a0f0e239627aea4a7387f03c6e5178584">QS_QF_RUN</a>.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="qpc__qs_8h.html#a0f0e239627aea4a7387f03c6e5178584">QS_QF_RUN</a> record is now generated in <a class="el" href="qutest.html">QUTest</a>, which requires adjustments in existing <a class="el" href="qutest_script.html">test scripts</a>. Specifically, the test scripts that provide their own on_reset() callback must now also call expect_run().</dd></dl>
<p><b>Bug Fixes:</b></p>
<ul>
<li><a href="https://sourceforge.net/p/qpc/bugs/153/">bug#153 QSPY Creating corrupt MscGen files</a>.</li>
</ul>
<h1><a class="anchor" id="qtools_6_8_2"></a>
Version 6.8.2, 2020-07-17</h1>
<ul>
<li>Changed the QS trace record name QS_QF_ACTIVE_POST_FIFO to <a class="el" href="qpc__qs_8h.html#acde7735acd22b2c9a09e929581c19d39">QS_QF_ACTIVE_POST</a> and QS_QF_EQUEUE_POST_FIFO to <a class="el" href="qpc__qs_8h.html#ae3935bfaa5e22dd55c397b3f5327e0b4">QS_QF_EQUEUE_POST</a>. This refactoring now better matches the QP/C/C++ API QACTIVE_POST() and QEQueue_post().</li>
<li>Fixed errors in the Doxygen documentation, such as: missing documentation for parameters, wrong parameter names, unresolved references, etc.</li>
<li>Applied new, clearer styling to the Doxygen documentation.</li>
</ul>
<h1><a class="anchor" id="qtools_6_8_1"></a>
Version 6.8.1, 2020-04-04</h1>
<p><b>Bug Fixes:</b></p><ul>
<li><a href="https://sourceforge.net/p/qpc/bugs/263/">bug#263 QSPY handles incorrectly empty strings</a>.</li>
</ul>
<p>Also, improved some comments in QUTest scripting documentation (qutest.py).</p>
<h1><a class="anchor" id="qtools_6_8_0"></a>
Version 6.8.0, 2020-03-21</h1>
<ul>
<li>Adapted the QSPY host application to the changes in QP/C/C++ 6.8.0.</li>
<li>Added color to the qutest.py Python script console output. Specifically, failing test scripts are shown in RED, while passing test scripts are shown in GREEN.</li>
</ul>
<h1><a class="anchor" id="qtools_6_7_0"></a>
Version 6.7.0, 2019-12-30</h1>
<p>This QTools release changes the build process for the QSPY, QCLEAN, and QFSGEN utilities on Windows. Specifically, these programs are now built using Visual Studio 2019 instead of the MinGW compiler for Windows. Also, the source code of all Quantum Leaps utilities has been reviewed and all "unsafe" calls to standard C library have been replaced with their "safe" counterparts (e.g., strcpy()-&gt;strcpy_s(), strcat()-&gt;strcat_s(),fprintf()-&gt;fprintf_s(), etc.) All these changes were made to avoid the malware warnings that were issued by some anti-virus software against executables built with MinGW.</p>
<p>This release also replaces the MinGW toolchain (8.2.0) with the latest mingw32 (9.2.0) installed with MSYS2 (see also <a href="https://sourceforge.net/p/qpc/discussion/668726/thread/06b89ba2d5/">https://sourceforge.net/p/qpc/discussion/668726/thread/06b89ba2d5/</a> ).</p>
<p>Finally, this release updates the QWIN Prototyping Toolkit (<code>qtools\qwin</code> directory) to work with the latest Visual Studio 2019 and specifically with the Resource Editor now available in VS 2019. The qwin-demo project has been updated to build with Visual Studio 2019.</p>
<h1><a class="anchor" id="qtools_6_6_0"></a>
Version 6.6.0, 2019-08-30</h1>
<p>The main purpose of this release is the change in distribution of the QTools collection, which is now bundled together with the QP frameworks (QP/C, QP/C++ and QP-nano) as well as QM into "QP-bundle". This "QP-bundle" provides a single, streamlined and simplified download and installation of all QP frameworks and all the accompanying tools.</p>
<p>Also this release brings significant changes to QTools for Windows. Specifically, the locations of the MinGW compiler and Tcl/Tk have been changed to separate directories (as opposed to being co-located in the <code>qtools/bin</code> directory). This facilitates easier upgrades of these third-party tools, and indeed, they have been upgraded in this QTools/Windows release as follows:</p>
<ul>
<li>MinGW-32-bit <b>8.2.0</b>.</li>
<li>Tcl/Tk <b>8.6</b>.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The directory reorganization means that the MinGW compiler is no longer available in the <code>qtools/bin</code> directory and therefore the QTools installer for Windows adds to the PATH both the <code>qtools/bin</code> and <code>qtools/MinGW/bin</code> directories.</dd></dl>
<p>Also, this release makes the following changes to the <a class="el" href="qspy.html">QSPY host application</a>:</p>
<ul>
<li>The <a class="el" href="qspy.html#qspy_command">command-line</a> defaults have been changed such that <code>qspy</code> is equivalent to the former <code>qspy -u -t</code>. In other words, QSPY by default opens the UDP port and opens the TCP/IP port for Target connection.</li>
<li>The QSPY host application now supports a new QP-compatibility version 6.6.0, in which the <a class="el" href="qs.html#qs_app">Application-Specific QS Trace Records</a> start at offset 100 instead of 70. This is only activated with the <code>-v 660</code> <a class="el" href="qspy.html#qspy_command">command-line</a> option, but is in preparation for the future changes in QP/C and QP/C++ frameworks (the upcoming QP/C/C++ 6.6.0).</li>
</ul>
<h1><a class="anchor" id="qtools_6_5_1"></a>
Version 6.5.1, 2019-06-08</h1>
<p>This release adds <b>debug mode</b> to <a class="el" href="qutest_script.html">QUTest scripting</a> (in Python). Specifically, you can now provide a special value <code>DEBUG</code> to the <code>qutest.py</code> Python script launcher, in which case <code>qutest.py</code> will start in <b>debug mode</b>, in which it will <b>not</b> launch the host executable and will <b>not</b> reset the Target. Instead, <code>qutest.py</code> will wait for the Target reset and other responses from the Target.</p>
<p>Additionally, this release improves the <a class="el" href="gs.html#install_win32">QTools installation on Windows</a>. Specifically the Windows installer now installs Python and has been re-designed to automatically set up the <code>QTOOLS</code> environment variable and add <code>QTOOLS%\bin;QTOOLS%\python</code> to the PATH. The uninstaller reverses these changes.</p>
<h1><a class="anchor" id="qtools_6_4_0"></a>
Version 6.4.0, 2019-02-10</h1>
<p>This release speeds up the QSPY host application by tweaking the timing constants in the TCP and UDP communication interfaces. The resulting QSPY 6.4.0 runs QUTest tests significantly faster (at least twice as fast) as before.</p>
<h1><a class="anchor" id="qtools_6_3_8"></a>
Version 6.3.8, 2018-12-31</h1>
<p>The main purpose of this release is the update of the GNU-ARM toolchain (included in QTools for Windows) to the latest GCC 8. Specifically, this QTools release switches to the official <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm">GNU-ARM Embedded Toolchain for Arm Cortex-M and Cortex-R processors maintained by ARM Ltd.</a>.</p>
<dl class="section note"><dt>Note</dt><dd>For consistency with the <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm">GNU-ARM Embedded Toolchain</a>, the toolchain is now located in the directory <code>qtools\gnu_arm-none-eabi</code> and contains tools with the prefix <b>arm-none-eabi-</b>. This is <em>different</em> from the GNU-ARM toolchain used previously (which was located in <code>qtools\gnu_arm-eabi</code> and used the tools prefix <b>arm-eabi-</b>). This change requires adjusting existing <code>Makefiles</code> and other build commands for the GNU-ARM toolchain, which has been done in the matching <b>QP/C/C++/nano release 6.3.8</b>.</dd></dl>
<p>Additionally, this release makes further improvements to the "qutest.py" Python interface. Specifically, the skip() command can now be used anywhere in the test scripts to skip the commands. (Previously, the skip() command could only legitimately be used just before the test() command).</p>
<h1><a class="anchor" id="qtools_6_3_7"></a>
Version 6.3.7, 2018-11-19</h1>
<p>This release brings a completely re-designed and simplified Python interface for the <a class="el" href="qutest.html">QUTest unit testing harness</a>. Specifically, this release adds a new scripting engine called simply <a class="el" href="qutest_script.html">qutest.py</a>, which replaces the previous "qspypy".</p>
<dl class="section note"><dt>Note</dt><dd>The new interface <a class="el" href="qutest_script.html">qutest.py</a> is now the primary supported QUTest scripting interface. The older interfaces, such as TCL ("qutest.tcl") and "qspypy" are still provided in this release, but they are considered <em>obsolete</em> and are <b>not recommended</b> for writing new test scripts.</dd></dl>
<p>The new <a class="el" href="qutest_script.html">qutest.py Python interface</a> is a simple single-threaded application that no longer requires PyTest or other such external Python packages, as did "qspypy" previously. The new Python interface is now also compatible with both Python 2 (2.7+) and Python 3 (3.4+), which means that virtually any contemporary Python version without extensions can be used for running QUTest Python scripts.</p>
<dl class="section note"><dt>Note</dt><dd>The new Python interface "qutest.py" implements a <b>different</b> (simpler) structure of <a class="el" href="qutest_script.html">QUTest test scripts</a> than "qspypy" before. Examples of the new Python <a class="el" href="qutest_tut.html">test scripts</a> are provided in the matching <b>QP/C/C++ release 6.3.7</b>.</dd></dl>
<p>Additionally, this release fixes the problem in the "QSPY host utility" to correctly format signed integers (I8, I16, I32), which didn't work correctly on 64-bit Linux platforms. Also, the QSPY utility on Windows now uses the newer Windows socket library "ws2_32", which replaced the old "wsock32".</p>
<p>Finally, the QTools release for Windows updates the provided MinGW GNU-C/C++ compiler to version 6.3.0.</p>
<h1><a class="anchor" id="qtools_6_3_6"></a>
Version 6.3.6, 2018-10-03</h1>
<p>The main purpose of this release is to improve <a class="el" href="qutest.html">QUTest</a> support. Specifically, this release adds a feature of querying and reporting the status of the current objects, such as the current State-Machine (SM), Active-Object (AO), current Memory-Pool (MP), current Event-Queue (EQ), and current Time-Event (TE). The feature impacts the following facilities:</p>
<ul>
<li>the <a class="el" href="qspy.html">QSPY host utility</a> now processes the new <a class="el" href="qpc__qs_8h.html#ad6bf3f7eceb7c0b063082d25f22ee994">QS_QUERY_DATA</a> packet</li>
<li>the QUTest <b>Tcl</b> scripting implements the new command command <code>query_curr()</code></li>
<li>the QUTest <b>Python</b> scripting implements the new command command <code>qutest.query_curr()</code>.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This feature requires matching QP/C/C++ <b>6.3.6</b>.</dd></dl>
<p>Also, the following bugs related to Python scripting have been fixed in the qspypy 6.3.6 included in this release:</p>
<ul>
<li><a href="https://sourceforge.net/p/qpc/bugs/224">bug#224 QUTest/Python implementation of qutest.expect() is incomplete</a>. This improved <code>qutest.expect()</code> implementation more closely matches the behavior of the <code>expect()</code> directive from Tcl scripting. The modified <code>qutest.expect()</code> compares correctly the <code>timestamp</code> fields (as opposed to ignoring them) and also handles special character sequences '?', '*', and [chars] (like the Tcl <code>string match</code> command).</li>
<li><a href="https://sourceforge.net/p/qpc/bugs/225">bug#225 QUTest/Python ignores the Target-info configuration</a>.</li>
<li><a href="https://sourceforge.net/p/qpc/bugs/223">bug#223 QUTest/Python hangs when attaching to QSPY fails</a>.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If you already have the previous version of qspypy, you need to re-install it by means of the following command:<br  />
 <br  />
 <code>pip install %QTOOLS%\qspy</code></dd></dl>
<p>Finally, this release of the QTools collection contains the <a href="https://github.com/ThrowTheSwitch/Unity">Unity unit testing harness (framework)</a>.</p>
<h1><a class="anchor" id="qtools_6_3_4"></a>
Version 6.3.4, 2018-08-16</h1>
<p>This release adds official support for writing QUTest test scripts in Python. Also, this release fixes some minor typos in error messages generated by QSpy.</p>
<h1><a class="anchor" id="qtools_6_3_1"></a>
Version 6.3.1, 2018-05-24</h1>
<p>This minor release corrects the QSPY utility. Specifically, the <a class="el" href="qs.html#qs_app">application-specific output</a> from the macros <a class="el" href="qpc__qs_8h.html#a9342913835bccef5ded5a59d2712101a">QS_FUN()</a>, <a class="el" href="qpc__qs_8h.html#a1b8d4d79089735ec19915ef7ed3e2e0b">QS_OBJ()</a> and <a class="el" href="qpc__qs_8h.html#aa4ef1e418c7b9680bf2242f6354490ee">QS_SIG()</a> contained extra space (' ') before the function/object/signal name. This extra space has been now removed.</p>
<dl class="section note"><dt>Note</dt><dd>The change might impact existing QUTest test scripts which parse the <a class="el" href="qpc__qs_8h.html#a9342913835bccef5ded5a59d2712101a">QS_FUN()</a>, <a class="el" href="qpc__qs_8h.html#a1b8d4d79089735ec19915ef7ed3e2e0b">QS_OBJ()</a> or <a class="el" href="qpc__qs_8h.html#aa4ef1e418c7b9680bf2242f6354490ee">QS_SIG()</a> output.</dd>
<dd>
The corrected <a class="el" href="qpc__qs_8h.html#a9342913835bccef5ded5a59d2712101a">QS_FUN()</a>, <a class="el" href="qpc__qs_8h.html#a1b8d4d79089735ec19915ef7ed3e2e0b">QS_OBJ()</a> and <a class="el" href="qpc__qs_8h.html#aa4ef1e418c7b9680bf2242f6354490ee">QS_SIG()</a> output (without the extra space) is assumed in the QUTest examples that ship in QP/C/C++ 6.3.1.</dd></dl>
<h1><a class="anchor" id="qtools_6_3_0"></a>
Version 6.3.0, 2018-05-10</h1>
<p>This release simplifies the usage of the QUTest (qutest.tcl) and QSpyView (qspyview.tcl) utilities by reducing the number of parameters required by these scripts. Specifically, the "local_port" parameter might now be omitted and still every instance of qutest.tcl / qspyview.tcl will be given a unique local UDP port. Additionally, the "port" parameter has been combined with the "host" parameter in the form host[:port].</p>
<p>Here is the new usage of the qutest.tcl script: </p><div class="fragment"><div class="line">tclsh qutest.tcl [test-scripts] [host_exe] [host[:port]] [local_port]</div>
</div><!-- fragment --><p>Here is the new usage of the qspyview.tcl script: </p><div class="fragment"><div class="line">wish qspyview.tcl [extension_script] [host[:port]] [local_port]</div>
</div><!-- fragment --><p>For example, to attach to QSPY running on the host 192.168.1.100 and port 7705, you now can launch these scripts as follows:</p>
<div class="fragment"><div class="line">tclsh qutest.tcl *.tcl test_fixture.exe 192.168.1.100:7705</div>
<div class="line">wish qspyview.tcl dpp.tcl 192.168.1.100:7705</div>
</div><!-- fragment --><p>Modified files:</p><ul>
<li>qspy.tcl</li>
<li>qspyview.tcl</li>
<li>qutest.tcl.</li>
</ul>
<p>Also, this release adds the LMFlash utility to QTools for Windows for flash programming of TM4C MCUs.</p>
<dl class="section note"><dt>Note</dt><dd>The changes should be transparent for most existing QSpyView and QUTest projects (this includes all examples shipped in QP/C and QP/C++). However, projects that run QSPY at non-default UDP ports might need to be adjusted.</dd></dl>
<h1><a class="anchor" id="qtools_6_2_0"></a>
Version 6.2.0, 2018-03-13</h1>
<p>This release updates the QSPY host utility as well as the <code>qutest.tcl</code> and <code>qspyview.tcl</code> scripts for the following new QS records introduced in QP/C/C++ 6.2.0:</p>
<ul>
<li><a class="el" href="qpc__qs_8h.html#a9cb7bde5f9a6515f7c26ba07e3cd68cc">QS_QF_ACTIVE_DEFER</a> (replaces QS_QF_ACTIVE_ADD)</li>
<li><a class="el" href="qpc__qs_8h.html#a1198b3e69f04119875431eda396d38f5">QS_QF_ACTIVE_RECALL</a> (replaces QS_QF_ACTIVE_REMOVE)</li>
<li><a class="el" href="qpc__qs_8h.html#a65da04cff745a01de7661006869d2792">QS_QF_ACTIVE_RECALL_ATTEMPT</a> (replaces QS_QF_EQUEUE_INIT)</li>
<li>QS_QF_RESERVED2 (replaces QS_QF_MPOOL_INIT)</li>
<li><a class="el" href="qpc__qs_8h.html#ab2a5b85bda9829cfa535774c1676bae2">QS_QF_NEW_REF</a> (replaces QS_QF_TIMEEVT_CTR)</li>
<li>#QS_MUTEX_LOCK (replaces QS_QF_RESERVED1)</li>
<li>#QS_MUTEX_UNLOCK (replaces QS_QF_RESERVED0).</li>
</ul>
<p>The global filter settings in the <code>qutest.tcl</code> and <code>qspyview.tcl</code> scripts have been updated to the augmented and re-organized QS trace records.</p>
<p>Additionally, the new commands post() and publish() have been added to the QUTest "testing DSL" (<code>qutest.tcl</code> script). Examples of use of these new commands are provided in the QP/C/C++ directory <code>&lt;qpc|qpcpp&gt;\examples\qutest\defer\</code>.</p>
<h1><a class="anchor" id="qtools_6_1_1"></a>
Version 6.1.1, 2018-02-06</h1>
<p>This release fixes the following bug in QSPY:</p>
<ul>
<li><a href="https://sourceforge.net/p/qpc/bugs/202">bug#202 QSPY 6.1.0 fails to report target communication errors</a>.</li>
</ul>
<p>Additionally, this release simplifies the format of the external dictionary files, so that they can potentially be generated from .map files or .elf files. The new format no longer requires storing the number of entries in the dictionary and the entries don't need to be sorted by the key-value. The new dictionary format also allows adding comments and empty lines between the dictionary blocks.</p>
<p>Additionally, the QSPY for POSIX (Linux, MacOS, etc.) corrects the problem with reading input from a file (-f[bin_file] command-line option).</p>
<p>Finally, this release increases the QCLEAN maximum size limit to 10MB per file.</p>
<h1><a class="anchor" id="qtools_6_1_0"></a>
Version 6.1.0, 2018-01-20</h1>
<p>This release improves the <a class="el" href="qspy.html#qspy_command">QSPY command-line</a> option processing by allowing option parameters to be separated by spaces from the option letter (including the optional parameters). For example, the following command-line would not work in the previous version, but will work now:</p>
<p>qspy -t 6602</p>
<p>At the same time, the option parameters can follow immediately the option letter, so the following command line will work as well (backwards compatiblity):</p>
<p>qspy -t6602</p>
<p>This release also improves the handling of external dictionary files in <a class="el" href="qspy.html">QSPY host application</a>. Specifically, the <code>-d</code> <a class="el" href="qspy.html#qspy_command">command-line option</a> has been extended to allow no parameter, in which case an external dictionary file is opened automatically as soon as QSPY receives the target reset or target information. When the <code>-d &lt;file&gt;</code> option is used, the provided dictionary file is used right away, but the dictionary information might get discarded when the target information does not match the configuration and time-stamp obtained from the dictionary file.</p>
<h1><a class="anchor" id="qtools_6_0_3"></a>
Version 6.0.3, 2017-12-12</h1>
<p>Fixed compilation and linkage on MacOS for qspy, qclean, qfsgen.</p>
<p>Fixed <a href="https://sourceforge.net/p/qpc/bugs/180/">bug#180 qspyview.tcl for peek is not in sync with the qs_rx parsing of peek</a>.</p>
<p>Used unsigned integer math in qcalc.tcl.</p>
<p>In QTools for Windows, updated the GNU-ARM toolchain to the latest available GCC 7.2.0 adapted from SysProgs Prebuilt GNU toolchain for arm-eabi:</p>
<p><a href="http://gnutoolchains.com/arm-eabi/">http://gnutoolchains.com/arm-eabi/</a>.</p>
<h1><a class="anchor" id="qtools_5_9_3"></a>
Version 5.9.3, 2017-07-04</h1>
<p>Fixed bug#175 "QS_QF_ACTIVE_GET &amp; QS_QF_EQUEUE_GET Record Mislabeled in
QSPY Output" (<a href="https://sourceforge.net/p/qpc/bugs/175/">https://sourceforge.net/p/qpc/bugs/175/</a> ).</p>
<p>Added bin/qcalc.tcl to the GIT repository (so that it shows up on GitHub).</p>
<h1><a class="anchor" id="qtools_5_9_1"></a>
Version 5.9.1, 2017-05-19</h1>
<p>Added the GNU-ARM (EABI) toolset to the QTools Collection for Windows in the directory <code>qtools/gnu_arm-eabi</code>. The addition of the GNU-ARM toolset matches the changes made to Makefiles in QP/C/C++/nano 5.9.2.</p>
<p>To reduce the size of the QTools for Windows download, the self-extracting archive file <code>qtools_win32_&lt;ver&gt;.exe</code> has been prepared with the 7-Zip utility.</p>
<h1><a class="anchor" id="qtools_5_9_0"></a>
Version 5.9.0, 2017-05-19</h1>
<p>This release adds the <a class="el" href="qutest.html">QUTest</a> (pronounced 'cutest') Unit Testing support to QP/Spy software tracing. Specifically, this release adds a new head-less (console-based) QSPY front-end, which runs unit tests.</p>
<p>This release also adapts the <a class="el" href="qspy.html">QSPY</a> host utility to support <a class="el" href="qutest.html">QUTest</a> unit testing. Several new commands have been added and the structure of the code has been expanded.</p>
<p>Also, the QSpyView Visualization extension has been moved to the tcl\ sub-directory (the Tcl script tcl\qspyview.tcl).</p>
<p>The other Quantum Leaps utilities, like <a class="el" href="qclean.html">QClean</a>, <a class="el" href="qfsgen.html">QFSGen</a>, and QCalc, have been updated and greatly improved.</p>
<p>Finally, all utilities in the QTools collection have been documented in the new QTools Manual, available online at <a href="https://www.state-machine.com/qtools">https://www.state-machine.com/qtools</a>.</p>
<h1><a class="anchor" id="qtools_5_7_0"></a>
Version 5.7.0, 2016-09-08</h1>
<p>Corrected the QSPY software tracing host application to properly display floating point numbers in user-defined trace records (<a class="el" href="qpc__qs_8h.html#a76d242e299411954043362240acd6a81">QS_F32()</a> and <a class="el" href="qpc__qs_8h.html#a4ba311d067e53eb59c945b62c83575cb">QS_F64()</a> macros). The problem was incompatibility between Microsoft VC++ and GCC floating-point format specifications. In the GCC software build (which produces the QSPY executable in the qtools/bin directory), the MS-VC++ floating point format resulted in all zeros (e.g., 0.0000e+000).</p>
<h1><a class="anchor" id="qtools_5_6_4"></a>
Version 5.6.4, 2016-05-04</h1>
<p>Added <a href="https://www.state-machine.com/products/#QWIN" target="_blank" class="extern">QWIN GUI</a> to the collection (sub-directory qwin_gui).</p>
<p>Updated the QSPY software tracing host application for the QS trace record name changes introduced in QP 5.6.2.</p>
<h1><a class="anchor" id="qtools_5_5_0"></a>
Version 5.5.0, 2015-08-21</h1>
<p>Extended the QSPY software tracing host application for <b>bi-directional</b> communication with embedded targets (output and <em>input</em> into the target). Added a <a class="el" href="qspy_udp.html">UDP socket</a> to QSPY, as an extensibility mechanism for adding external unit testing, GUIs and other "front-ends" to control the embedded targets.</p>
<p>Provided new QSpyView Tcl/Tk extension of the QSPY host application for control testing, and visualization of the real-time tracing data from embedded targets at real-time. QSpyView enables developers to rapidly build both GUI-based and "headless" scripts for their specific applications (see <a href="https://www.state-machine.com/qpc/arm-cm_dpp_ek-tm4c123gxl.html">https://www.state-machine.com/qpc/arm-cm_dpp_ek-tm4c123gxl.html</a>).</p>
<h1><a class="anchor" id="qtools_5_3_1"></a>
Version 5.3.1, 2014-04-21</h1>
<p>Corrected the version representation from hex to decimal, to match the change in the QP framework. The version representation missmatch caused problems in parsing newly modified trace records, when the qspy.c implementation was inserted directly into the projects.</p>
<h1><a class="anchor" id="qtools_5_3_0"></a>
Version 5.3.0, 2014-03-31</h1>
<p>Added new trace records to the QSPY host application: QS_QEP_TRAN_HIST, QS_QEP_TRAN_EP, and QS_QEP_TRAN_XP. Changed labels for standard records from Q_ENTRY, Q_EXIT, Q_INIT to ENTRY, EXIT, INIT.</p>
<h1><a class="anchor" id="qtools_5_1_1"></a>
Version 5.1.1, 2013-10-15</h1>
<p>Fixed the bug in the QSPY host application, which didn't handle correctly object/functions/signal names longer than 32 characters. The name limit has been raised to 64 characters and this version also correctly truncates the names at the limit without printing any garbage characters.</p>
<h1><a class="anchor" id="qtools_5_1_0a"></a>
Version 5.1.0a, 2013-09-18</h1>
<p>Modified QSPY utility to support changes in QP 5.1.x:</p>
<p>-improved handling of target resets by adding an empty QS record before the QS_QP_RESET record. The empty record provides the frame delimiter in case the last record in incomplete, so that the following QS_QP_RESET record can be recognized.</p>
<p>-improved handling of internal object/function/signal dictionaries so that symbolic information is displayed for all occurrences of an object/function/signal, for which a dictionary record was received.</p>
<h1><a class="anchor" id="qtools_5_0_0a"></a>
Version 5.0.0a, 2013-09-08</h1>
<p>Modified the QSPY utility to support changes in QP 5.0.x:</p>
<p>-modified the standard trace records QS_QF_TICK and QS_QF_TIMEEVT_* to contain the tick-rate number.</p>
<p>-added trace records QS_TEST_RUN and QS_TEST_FAIL for unit testing.</p>
<p>-added version compatibility level 5.0, whereas specifying version -v 4.5 runs qspy in compatibility mode with QP 4.5.x.</p>
<p>-added Find And Replace Text (FART) utility for Windows.</p>
<h1><a class="anchor" id="qtools_4_5_02"></a>
Version 4.5.02, 2012-07-21</h1>
<p>Re-designed the QSPY interface to support more flexible parsing of the trace records in desktop-based simulations (such as Windows or Qt). Users can provide a custom parsing callback function to <a class="el" href="qspy_8h.html#abc5cacce9e76e3f29fa465beced077d5">QSPY_config()</a>. Also added QS_RESET() macro to reset the internal dictionaries (and other cleanup in the future) when the target resets.</p>
<h1><a class="anchor" id="qtools_4_5_01"></a>
Version 4.5.01, 2012-06-25</h1>
<p>Added the <a class="el" href="qpc__qs_8h.html#ae75893daa66c6d0b5a6dfb8f3fca1196">QS_USR_DICTIONARY()</a> entry for storing dictionaries of the user trace records. Replaced all remaining sprintf() calls with snprintf().</p>
<h1><a class="anchor" id="qtools_4_5_00"></a>
Version 4.5.00, 2012-05-26</h1>
<p>Re-designed the implementation of the QSPY host application, so that it can be convenienty included as part of the QP library. This allows direct QS tracing output to the screen for QP applications running on the desktop. The QSPY application has been converted from C++ to plain C for easier integration with QP/C.</p>
<h1><a class="anchor" id="qtools_4_3_00"></a>
Version 4.3.00, 2011-11-03</h1>
<p>This QSPY version matches the changes to the critical section macros made in QP 4.3.00. The QS record names QS_QF_INT_LOCK and QS_QF_INT_UNLOCK have been replaced with QS_QF_CRIT_ENTRY and QS_QF_CRIT_EXIT, respectively.</p>
<h1><a class="anchor" id="qtools_4_2_04"></a>
Version 4.2.04, 2011-09-27</h1>
<p>This QSPY version fixes the bug of incorrect reporting function or object pointers for which the dictionary records are not provided and which are repeated in one format line (bug #3405904). For example, trace record AO.FIFO would report (incorrectly) as follows:</p>
<p>0014004078 AO.FIFO: Sndr=200009B4 Obj=200009B4 Evt(Sig=00000009,Obj=200009B4, Pool= 0, Ref= 0) Queue(nFree= 5, nMin= 5)</p>
<p>The Sndr= and Obj= are reported to be the same, but they were not.</p>
<h1><a class="anchor" id="qtools_4_2_01"></a>
Version 4.2.01, 2011-08-01</h1>
<p>This QSPY version adds generation of sequence diagrams as files to be processed by MscGen (www.mcternan.me.uk/mscgen/). This version adds the option -g&lt;msc_file&gt; to generate a .msc file.</p>
<p>Also, this version of QSPY for Windows allows COM ports larger than COM9.</p>
<h1><a class="anchor" id="qtools_4_2_00"></a>
Version 4.2.00, 2011-07-13</h1>
<p>This QSPY version matches the changes made to QS target code in QP/C/C++ 4.2.xx. These changes include sending the additional byte of sender priority in trace records:</p>
<ul>
<li>QS_QF_ACTIVE_POST_FIFO,</li>
<li>QS_QF_ACTIVE_POST_LIFO.</li>
</ul>
<p>Additional changes include sending the poolID and refCtr of events in two bytes instead of just one byte. The changes affect the following trace records:</p>
<ul>
<li>QS_QF_ACTIVE_POST_FIFO,</li>
<li>QS_QF_ACTIVE_POST_LIFO,</li>
<li>QS_QF_ACTIVE_GET,</li>
<li>QS_QF_EQUEUE_GET,</li>
<li>QS_QF_ACTIVE_GET_LAST,</li>
<li>QS_QF_EQUEUE_GET_LAST,</li>
<li>QS_QF_EQUEUE_POST_FIFO,</li>
<li>QS_QF_EQUEUE_POST_LIFO,</li>
<li>QS_QF_PUBLISH,</li>
<li>QS_QF_GC_ATTEMPT, and</li>
<li>QS_QF_GC.</li>
</ul>
<p>Also, for compatibility with QP 4.2.xx, this version changes the defaults as follows:</p>
<p>signal size (-S) from 1 byte to 2 bytes, and</p>
<p>baud rate (-b) from 38400 to 115200.</p>
<p>This version adds the following trace record:</p>
<p>QS_QF_TIMEEVT_CTR.</p>
<p>The version also adds compatiblity with 64-bit targets (such as 64-bit linux). This version can accept 8-byte pointers (both object pointers and function pointers) as well as 64-bit integers sent in user-defined trace records.</p>
<p>This version also adds the hex format for uint32_t integers sent in user-defined trace records.</p>
<p>Finally, this version adds a command-line option -v to specify the corresponding QP version running on the target. The default version is -v4.2, but specifying version -v4.1 or -v4.0 will switch QSPY into backwards-compatibility mode with the earlier versions of QP.</p>
<h1><a class="anchor" id="qtools_4_1_06"></a>
Version 4.1.06, 2011-02-09</h1>
<p>This is the initial standalone release of the QSPY host pplication. QSPY is still available in the QP/C and QP/C++ distributions, but other rapid prototyping platforms (such as mbed or Arduino) do not use the standard QP distributions and have no easy access to the QSPY tool. For these users, this pre-compiled standalone release is more convenient. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2023 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QTools 7.2.1</b> &nbsp;|&nbsp; Updated on Thu Jan 26 2023
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2023 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QTools 7.2.1</b> &nbsp;|&nbsp; Updated on Thu Jan 26 2023
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
